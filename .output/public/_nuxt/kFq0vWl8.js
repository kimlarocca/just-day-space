import{u as k}from"./CuZozit4.js";import{a as v}from"./BrLtfxac.js";import{j as _,s as b,c as C,b as x,k as M,w as B,f as N,a as s,d as g,r as h,o as p}from"./8BKww6Vf.js";const V={class:"magic-link container p-4"},S=s("h1",{class:"mb-3"},"Magic Link",-1),U=s("h2",{class:"mb-2"},"Logging into your account...",-1),L=s("p",{class:"mb-4"},"Please wait a few moments.",-1),j=s("p",null,[s("a",{href:"/"},"Click here if you are not automatically logged in."),g(" Your magic link may have expired! ")],-1),q={__name:"magic-link",async setup(A){var c,i,l,m,d,u;let e,o;const r=v(),n=k(),a=([e,o]=_(()=>n.auth.getUser()),e=await e,o(),e),t=([e,o]=_(()=>n.auth.getSession()),e=await e,o(),e);return(c=a==null?void 0:a.data)!=null&&c.user?r.value=(i=a==null?void 0:a.data)==null?void 0:i.user:(m=(l=t==null?void 0:t.data)==null?void 0:l.session)!=null&&m.user&&(r.value=(u=(d=t==null?void 0:t.data)==null?void 0:d.session)==null?void 0:u.user),b(()=>{r.value&&(window.location.href="/dashboard")}),(f,E)=>{const w=h("divider"),y=h("Message");return p(),C("div",V,[S,U,x(w,{class:"my-6 w-2"}),f.errorMessage?(p(),M(y,{key:0,class:"mb-4",severity:"error"},{default:B(()=>[g(" Sorry, there was a problem logging in to your account. ")]),_:1})):N("",!0),L,j])}}};export{q as default};
