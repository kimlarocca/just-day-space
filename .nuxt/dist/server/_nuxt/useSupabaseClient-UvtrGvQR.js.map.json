{"file":"useSupabaseClient-UvtrGvQR.js","mappings":";;;AAIY,MAAC,oBAAoB,MAAM;;AACrC,QAAM,UAAU;AAChB,QAAM,QAAQ;AACd,QAAM,gBAAgB,MAAM,QAAQ,UAAU,MAAM,KAAK,KAAK;AAC9D,QAAM,EAAE,UAAU,EAAE,KAAK,KAAK,QAAQ,gBAAiB,IAAG,iBAAkB,EAAC;AAC7E,QAAM,UAAU,gBAAgB,KAAK,eAAe,EAAE,QAAQ,EAAE,SAAS,EAAE,cAAa,IAAM,CAAA,IAAI;AAClG,QAAM,mBAAiB,aAAQ,oBAAR,mBAAyB,QAAQ,mBAAkB;AAC1E,MAAI,CAAC,QAAQ,mBAAmB,gBAAgB;AAC9C,YAAQ,kBAAkB,aAAa,KAAK,KAAK,OAAO;AAAA,EACzD;AACD,SAAO,QAAQ;AACjB;","names":[],"sources":["../../../../node_modules/@nuxtjs/supabase/dist/runtime/composables/useSupabaseClient.mjs"],"sourcesContent":["import { createClient } from \"@supabase/supabase-js\";\nimport { defu } from \"defu\";\nimport { useSupabaseToken } from \"./useSupabaseToken.mjs\";\nimport { useRuntimeConfig, useNuxtApp } from \"#imports\";\nexport const useSupabaseClient = () => {\n  const nuxtApp = useNuxtApp();\n  const token = useSupabaseToken();\n  const Authorization = token.value ? `Bearer ${token.value}` : void 0;\n  const { supabase: { url, key, client: clientOptions } } = useRuntimeConfig().public;\n  const options = Authorization ? defu(clientOptions, { global: { headers: { Authorization } } }) : clientOptions;\n  const recreateClient = nuxtApp._supabaseClient?.headers.Authorization !== Authorization;\n  if (!nuxtApp._supabaseClient || recreateClient) {\n    nuxtApp._supabaseClient = createClient(url, key, options);\n  }\n  return nuxtApp._supabaseClient;\n};\n"],"version":3}