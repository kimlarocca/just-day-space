{"version":3,"file":"success-DksWiA1i.js","sources":["../../../../pages/success.vue"],"sourcesContent":["<template>\n  <div class=\"hemp\">\n    <Html lang=\"en\">\n      <Head>\n        <Title>Just Day Space | Success!</Title>\n      </Head>\n    </Html>\n    <h2 class=\"mb-4\">Success!</h2>\n    <div class=\"container-white p-4\">\n      <icons-large-check class=\"mb-4\" />\n      <h4 class=\"mb-4\">Your account setup is complete!</h4>\n      <p class=\"mb-4\">What's next?</p>\n      <nuxt-link\n        v-if=\"currentUserProfile.farm_owner\"\n        to=\"/cannabis\"\n        class=\"plain\"\n      >\n        <Button\n          label=\"add your strains\"\n          class=\"block mb-3 md:mb-0 md:mr-3 md:inline-block w-full md:w-fit\"\n        />\n      </nuxt-link>\n      <nuxt-link\n        v-if=\"currentUserProfile.hemp_farm_owner\"\n        to=\"/hemp\"\n        class=\"plain\"\n      >\n        <Button\n          label=\"add your hemp strains\"\n          class=\"block mb-3 md:mb-0 md:mr-3 md:inline-block w-full md:w-fit\"\n        />\n      </nuxt-link>\n      <nuxt-link\n        v-if=\"currentUserProfile.lab_owner\"\n        to=\"/concentrates\"\n        class=\"plain\"\n      >\n        <Button\n          label=\"add your concentrates\"\n          class=\"block mb-3 md:mb-0 md:mr-3 md:inline-block w-full md:w-fit\"\n        />\n      </nuxt-link>\n      <Divider class=\"mb-2 pt-6 w-4 lg:w-2\" />\n      <p class=\"mb-4\">Or</p>\n      <nuxt-link to=\"/dashboard\" class=\"plain\">\n        <Button\n          label=\"check out your dashboard\"\n          class=\"block mb-3 md:mb-0 md:mr-3 md:inline-block p-button-outlined w-full md:w-fit\"\n        />\n      </nuxt-link>\n    </div>\n  </div>\n</template>\n\n<script setup>\ndefinePageMeta( {\n  middleware: 'auth',\n} )\n\nconst currentUser = useSupabaseUser()\nconst currentUserProfile = useCurrentUserProfile()\nconst supabase = useSupabaseClient()\n\n// set onboarded to true in the profiles table for the current user\nawait supabase\n  .from( 'profiles' )\n  .update( {\n    onboarded: true,\n  } )\n  .eq( 'id', currentUser.value.id )\n\n// get the profile for the logged in user\nlet { data } = await supabase\n  .from( 'profiles' )\n  .select( '*' )\n  .eq( 'id', currentUser.value.id )\n  .limit( 1 )\nif ( data ) {\n  // update the state\n  currentUserProfile.value.farm_owner = data[ 0 ]?.farm_owner\n  currentUserProfile.value.hemp_farm_owner = data[ 0 ]?.hemp_farm_owner\n  currentUserProfile.value.lab_owner = data[ 0 ]?.lab_owner\n  currentUserProfile.value.full_name = data[ 0 ]?.full_name\n  currentUserProfile.value.phone = data[ 0 ]?.phone\n  currentUserProfile.value.number_of_workers = data[ 0 ]?.number_of_workers\n  currentUserProfile.value.onboarded = data[ 0 ]?.onboarded\n}\n</script>\n"],"names":["_withAsyncContext"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2DA,UAAM,cAAc,gBAAiB;AACrC,UAAM,qBAAqB,sBAAuB;AAClD,UAAM,WAAW,kBAAmB;AAGpC,IAAA,CAAA,QAAA,SAAA,IAAAA,iBAAA,MAAM,SACH,KAAM,UAAY,EAClB,OAAQ;AAAA,MACP,WAAW;AAAA,IACf,CAAK,EACF,GAAI,MAAM,YAAY,MAAM,EAAE,CAAC;AAGlC,QAAI,EAAE,KAAM,KAAG,CAAA,QAAA,SAAA,IAAAA,iBAAA,MAAM,SAClB,KAAM,UAAY,EAClB,OAAQ,GAAK,EACb,GAAI,MAAM,YAAY,MAAM,EAAI,EAChC,MAAO,CAAC,CAAC;AACZ,QAAK,MAAO;AAEV,yBAAmB,MAAM,cAAa,UAAM,CAAG,MAAT,mBAAW;AACjD,yBAAmB,MAAM,mBAAkB,UAAM,CAAG,MAAT,mBAAW;AACtD,yBAAmB,MAAM,aAAY,UAAM,CAAG,MAAT,mBAAW;AAChD,yBAAmB,MAAM,aAAY,UAAM,CAAG,MAAT,mBAAW;AAChD,yBAAmB,MAAM,SAAQ,UAAM,CAAG,MAAT,mBAAW;AAC5C,yBAAmB,MAAM,qBAAoB,UAAM,CAAG,MAAT,mBAAW;AACxD,yBAAmB,MAAM,aAAY,UAAM,CAAG,MAAT,mBAAW;AAAA,IAClD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}