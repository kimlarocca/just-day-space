{"file":"login-D2QxmlNG.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+Ce,sBAAmB;AAGlC,UAAM,QAAQ,IAAK,EAAI;AACvB,UAAM,WAAW,IAAK,EAAI;AAC1B,UAAM,eAAe,IAAK,EAAI;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC9B9B,UAAM,cAAc,eAAgB;AACpC,UAAM,SAAS,kBAAmB;AAClC,UAAM,QAAO,CAAA,QAAA,SAAA,IAAAA,iBAAA,MAAM,OAAO,KAAK,SAAQ;AACvC,UAAM,WAAgB,CAAA,QAAA,SAAA,IAAAA,iBAAA,MAAA,OAAO,KAAK,YAAW;AAG7C,SAAK,kCAAM,SAAN,mBAAY,MAAO;AACtB,kBAAY,SAAQ,kCAAM,SAAN,mBAAY;AAAA,IAClC,YAAY,8CAAS,SAAT,mBAAe,YAAf,mBAAwB,MAAO;AACzC,kBAAY,SAAQ,8CAAS,SAAT,mBAAe,YAAf,mBAAwB;AAAA,IAC9C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","names":["_withAsyncContext"],"sources":["../../../../components/supabase/LoginWithEmail.vue","../../../../pages/login.vue"],"sourcesContent":["<template>\n  <div>\n    <template v-if=\"errorMessage\">\n      <Message class=\"mb-4\" severity=\"error\">\n        Sorry, there was a problem logging in to your account:\n        {{ errorMessage }}\n      </Message>\n    </template>\n    <form @submit.prevent=\"login\" class=\"width400\">\n      <div class=\"mb-3\">\n        <span class=\"p-float-label inline\">\n          <InputText\n            id=\"email\"\n            v-model=\"email\"\n            class=\"w-full\"\n            type=\"email\"\n            placeholder=\"Email Address\"\n            required\n          />\n          <label for=\"email\">Email Address</label>\n        </span>\n      </div>\n      <div class=\"mb-2\">\n        <span class=\"p-float-label inline\">\n          <Password\n            id=\"password\"\n            toggleMask\n            :feedback=\"false\"\n            v-model=\"password\"\n            class=\"w-full mb-2\"\n            type=\"password\"\n            placeholder=\"Password\"\n            required\n          />\n          <label for=\"password\">Password</label>\n        </span>\n      </div>\n      <Button\n        label=\"Sign In With Email & Password\"\n        class=\"w-full\"\n        type=\"submit\"\n      />\n    </form>\n  </div>\n</template>\n\n<script setup>\nconst client = useSupabaseClient()\nconst config = useRuntimeConfig()\n\nconst email = ref( '' )\nconst password = ref( '' )\nconst errorMessage = ref( '' )\n\nconst login = async () => {\n  const error = await client.auth.signInWithPassword(\n    { email: email.value, password: password.value },\n    { redirectTo: config.supabaseAuthSignInRedirectTo }\n  )\n  if ( error.error ) {\n    console.log( error )\n    if ( error?.error?.message?.includes( 'Invalid login credentials' ) ) {\n      errorMessage.value =\n        'The email and password combination you entered is incorrect. Please try again!'\n    } else {\n      errorMessage.value = error\n    }\n  } else {\n    navigateTo( '/dashboard' )\n  }\n}\n</script>\n","<template>\n  <div class=\"sign-in\">\n    <h1 class=\"mb-3 flex align-items-center\">\n      Connecting empty spaces with people who need them.\n    </h1>\n    <p class=\"mb-4 lg:mb-6\">Enter your credentials to access your account.</p>\n    <supabase-login-with-email class=\"mb-4\" />\n    <p class=\"like-h6\">\n      <nuxt-link to=\"/forgot-password\">Forgot Password?</nuxt-link>\n    </p>\n    <Divider class=\"mb-2 pt-6 w-4 lg:w-2\" />\n    <p class=\"mb-3\">Or sign in with social:</p>\n    <supabase-login-with-google />\n    <Divider class=\"mb-4 pt-6 w-4 lg:w-2\" />\n    <p class=\"mb-3\">Or sign in with a magic link:</p>\n    <supabase-login-with-magic-link />\n  </div>\n</template>\n\n<script setup>\nimport { useCurrentUser } from '~/composables/states'\n\nconst currentUser = useCurrentUser()\nconst client = useSupabaseClient()\nconst user = await client.auth.getUser()\nconst session = await client.auth.getSession()\n\n// check supabase session for logged in user\nif ( user?.data?.user ) {\n  currentUser.value = user?.data?.user\n} else if ( session?.data?.session?.user ) {\n  currentUser.value = session?.data?.session?.user\n}\n</script>\n"],"version":3}