{"version":3,"file":"LoginWithEmail-Dk7DTNWa.js","sources":["../../../../components/supabase/LoginWithEmail.vue"],"sourcesContent":["<template>\n  <div>\n    <template v-if=\"errorMessage\">\n      <Message class=\"mb-4\" severity=\"error\">\n        Sorry, there was a problem logging in to your account:\n        {{ errorMessage }}\n      </Message>\n    </template>\n    <form @submit.prevent=\"login\">\n      <div class=\"mb-3\">\n        <InputText\n          id=\"email\"\n          v-model=\"email\"\n          class=\"w-full\"\n          type=\"email\"\n          placeholder=\"Email Address\"\n          required\n        />\n      </div>\n      <div class=\"mb-3\">\n        <Password\n          id=\"password\"\n          toggleMask\n          :feedback=\"false\"\n          v-model=\"password\"\n          class=\"w-full\"\n          type=\"password\"\n          placeholder=\"Password\"\n          required\n        />\n      </div>\n      <Button\n        label=\"Login With Email & Password\"\n        class=\"w-full\"\n        type=\"submit\"\n      />\n    </form>\n  </div>\n</template>\n\n<script setup>\nconst client = useSupabaseClient()\nconst config = useRuntimeConfig()\nconst emit = defineEmits( [ 'closePanel' ] )\n\nconst email = ref( '' )\nconst password = ref( '' )\nconst errorMessage = ref( '' )\n\nconst login = async () => {\n  const error = await client.auth.signInWithPassword(\n    { email: email.value, password: password.value },\n    { redirectTo: config.supabaseAuthSignInRedirectTo }\n  )\n  if ( error.error ) {\n    console.log( error )\n    if ( error?.error?.message?.includes( 'Invalid login credentials' ) ) {\n      errorMessage.value =\n        'The email and password combination you entered is incorrect. Please try again!'\n    } else {\n      errorMessage.value = error\n    }\n  } else {\n    emit( 'closePanel' )\n    navigateTo( '/dashboard' )\n  }\n}\n</script>\n"],"names":[],"mappings":";;;;;;;;;AAyCe,sBAAmB;AAIlC,UAAM,QAAQ,IAAK,EAAI;AACvB,UAAM,WAAW,IAAK,EAAI;AAC1B,UAAM,eAAe,IAAK,EAAI;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}