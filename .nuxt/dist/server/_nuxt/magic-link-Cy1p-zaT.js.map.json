{"file":"magic-link-Cy1p-zaT.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyBA,UAAM,cAAc;AACpB,UAAM,SAAS;AACf,UAAM,QAAO,CAAA,QAAA,SAAA,IAAAA,iBAAA,MAAM,OAAO,KAAK,QAAQ,CAAA;AACvC,UAAM,WAAgB,CAAA,QAAA,SAAA,IAAAA,iBAAA,MAAA,OAAO,KAAK,WAAW,CAAA;AAGxC,SAAA,kCAAM,SAAN,mBAAY,MAAO;AACV,kBAAA,SAAQ,kCAAM,SAAN,mBAAY;AAAA,IACtB,YAAA,8CAAS,SAAT,mBAAe,YAAf,mBAAwB,MAAO;AAC7B,kBAAA,SAAQ,8CAAS,SAAT,mBAAe,YAAf,mBAAwB;AAAA,IAC9C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","names":["_withAsyncContext"],"sources":["../../../../pages/magic-link.vue"],"sourcesContent":["<template>\n  <div class=\"magic-link\">\n    <header class=\"flex align-items-end justify-content-between\">\n      <nuxt-link to=\"/\" class=\"plain\"><cuetip-logo /></nuxt-link>\n    </header>\n    <divider class=\"mb-6\" />\n    <h1 class=\"mb-3\">Magic Link</h1>\n    <h2 class=\"mb-2\">Logging into your account...</h2>\n    <divider class=\"my-6 w-2\" />\n    <template v-if=\"errorMessage\">\n      <Message class=\"mb-4\" severity=\"error\">\n        Sorry, there was a problem logging in to your account.\n      </Message>\n    </template>\n    <p class=\"mb-4\">Please wait a few moments.</p>\n    <p>\n      <a href=\"/\">Click here if you are not automatically logged in.</a> Your\n      magic link may have expired!\n    </p>\n  </div>\n</template>\n\n<script setup>\nimport { useCurrentUser } from '~/composables/states'\n\nconst currentUser = useCurrentUser()\nconst client = useSupabaseClient()\nconst user = await client.auth.getUser()\nconst session = await client.auth.getSession()\n\n// check supabase session for logged in user\nif ( user?.data?.user ) {\n  currentUser.value = user?.data?.user\n} else if ( session?.data?.session?.user ) {\n  currentUser.value = session?.data?.session?.user\n}\n\nonMounted( () => {\n  if ( currentUser.value ) {\n    window.location.href = '/dashboard'\n  }\n} )\n</script>\n"],"version":3}