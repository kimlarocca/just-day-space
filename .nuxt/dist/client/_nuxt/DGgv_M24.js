import{_ as P}from"./DbhdbvRE.js";import{_ as V}from"./Soh8fuTW.js";import{u as y}from"./CuZozit4.js";import{g as $,r as u,o as p,c as v,u as b,k as A,w as k,d as x,t as D,f as E,b as n,l as I,j as w,a as c}from"./8BKww6Vf.js";import{_ as M}from"./CBGI5xjP.js";import{a as O}from"./BrLtfxac.js";const T={__name:"LoginWithGoogle",props:{label:{type:String,default:"Sign In With Google"}},emits:["closePanel"],setup(g,{emit:e}){const a=y(),i=I(),r=e,t=$(""),o=async()=>{r("closePanel");const s=await a.auth.signInWithOAuth({provider:"google"},{redirectTo:i.supabaseAuthSignInRedirectTo});s.value&&(console.log(s),t.value=`Sorry, there was a problem creating this account. Please try again! Error message: ${s}`)};return(s,m)=>{const l=u("Message"),_=u("Button");return p(),v("div",null,[b(t)?(p(),A(l,{key:0,class:"mb-4",severity:"error"},{default:k(()=>[x(" Sorry, there was a problem logging in to your account: "+D(b(t)),1)]),_:1})):E("",!0),n(_,{label:g.label,icon:"pi pi-google",class:"p-button-outlined w-full mb-2",onClick:o},null,8,["label"])])}}},U={class:"sign-in"},W=c("h1",{class:"mb-3 flex align-items-center"}," Connecting empty spaces with people who need them. ",-1),G=c("p",{class:"mb-4 lg:mb-6"},"Enter your credentials to access your account.",-1),R={class:"like-h6"},j=c("p",{class:"mb-3"},"Or sign in with social:",-1),F=c("p",{class:"mb-3"},"Or sign in with a magic link:",-1),Y={__name:"login",async setup(g){var s,m,l,_,d,h;let e,a;const i=O(),r=y(),t=([e,a]=w(()=>r.auth.getUser()),e=await e,a(),e),o=([e,a]=w(()=>r.auth.getSession()),e=await e,a(),e);return(s=t==null?void 0:t.data)!=null&&s.user?i.value=(m=t==null?void 0:t.data)==null?void 0:m.user:(_=(l=o==null?void 0:o.data)==null?void 0:l.session)!=null&&_.user&&(i.value=(h=(d=o==null?void 0:o.data)==null?void 0:d.session)==null?void 0:h.user),(L,q)=>{const C=P,S=V,f=u("Divider"),B=T,N=M;return p(),v("div",U,[W,G,n(C,{class:"mb-4"}),c("p",R,[n(S,{to:"/forgot-password"},{default:k(()=>[x("Forgot Password?")]),_:1})]),n(f,{class:"mb-2 pt-6 w-4 lg:w-2"}),j,n(B),n(f,{class:"mb-4 pt-6 w-4 lg:w-2"}),F,n(N)])}}};export{Y as default};
